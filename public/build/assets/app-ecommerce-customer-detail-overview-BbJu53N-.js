$(function(){var o=window.location.pathname.split("/").pop(),d=$(".datatables-customer-order"),i=baseUrl+"orders/details/",s={1:{title:"Cancelled",class:"bg-label-success"},2:{title:"Completed",class:"bg-label-primary"},3:{title:"Processing",class:"bg-label-info"},4:{title:"Pending",class:"bg-label-secondary"}};d.length&&$.ajax({url:"/api/admin/customer-order-list/"+o,method:"GET",success:function(c){d.DataTable({data:c.data,columns:[{data:"id"},{data:"order_number"},{data:"created_at"},{data:"status_id"},{data:"total"},{data:" "}],columnDefs:[{className:"control",searchable:!1,orderable:!1,responsivePriority:2,targets:0,render:function(a,r,t,n){return""}},{targets:1,responsivePriority:4,render:function(a,r,t,n){var e=t.order_number;return"<a href='"+i+e+"'><span>#"+e+"</span></a>"}},{targets:2,render:function(a,r,t,n){var e=new Date(t.created_at),l=e.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return'<span class="text-nowrap">'+l+"</span>"}},{targets:3,render:function(a,r,t,n){var e=t.status_id;return'<span class="badge rounded-pill '+s[e].class+'" text-capitalized>'+s[e].title+"</span>"}},{targets:4,render:function(a,r,t,n){var e=t.payment.amount;return"<span>â‚± "+e+"</span>"}},{targets:-1,title:"Actions",searchable:!1,orderable:!1,render:function(a,r,t,n){return'<div><button class="btn btn-sm btn-icon btn-text-secondary waves-effect waves-light rounded-pill dropdown-toggle hide-arrow" data-bs-toggle="dropdown"><i class="ri-more-2-line ri-20px"></i></button><div class="dropdown-menu dropdown-menu-end m-0"><a href="javascript:;" class="dropdown-item">View</a></div></div>'}}],order:[[1,"desc"]],dom:'<"card-header d-flex flex-wrap py-0 pt-5 pt-sm-0 flex-column flex-sm-row"<"head-label text-center me-4 ms-1">f>t<"row mx-4"<"col-md-12 col-xxl-6 text-center text-xxl-start pb-2 pb-xxl-0 pe-0"i><"col-md-12 col-xxl-6"p>>',lengthMenu:[6,30,50,70,100],language:{sLengthMenu:"_MENU_",search:"",searchPlaceholder:"Search order",paginate:{next:'<i class="ri-arrow-right-s-line"></i>',previous:'<i class="ri-arrow-left-s-line"></i>'}},responsive:{details:{display:$.fn.dataTable.Responsive.display.modal({header:function(a){var r=a.data();return"Details of "+r.order_number}}),type:"column",renderer:function(a,r,t){var n=$.map(t,function(e,l){return e.title!==""?'<tr data-dt-row="'+e.rowIndex+'" data-dt-column="'+e.columnIndex+'"><td>'+e.title+":</td> <td>"+e.data+"</td></tr>":""}).join("");return n?$('<table class="table"/><tbody />').append(n):!1}}}}),$("div.head-label").html('<h5 class="card-title mb-0 text-nowrap">Orders placed</h5>'),$(".pagination").addClass("justify-content-xxl-end justify-content-center")}}),$(".datatables-orders tbody").on("click",".delete-record",function(){dt_order.row($(this).parents("tr")).remove().draw()})});
